chrome.runtime.onMessage.addListener((t,a,n)=>{if(t.action==="injectScript"){const{tabId:c,value:e}=t.payload;return r(c,e).then(()=>{n({success:!0})}).catch(i=>{console.error("Script injection failed:",i),n({success:!1,error:i.message})}),!0}});async function r(t,a){await chrome.scripting.executeScript({target:{tabId:t},args:[a],func:n=>{const c="//div[contains(@class, 'login-form')]//form//input[@type='text']",e=document.evaluate(c,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;e?(e.value=n,e.dispatchEvent(new Event("input",{bubbles:!0}))):console.error("\u76EE\u6A19\u8F38\u5165\u6846\u672A\u627E\u5230")}})}
